{% extends 'base.html' %}

{% block title %}
    Cart
{% endblock %}

{% block content %}
    <br/>
    <div class="container">
        <div class="p-2 bd-highlight"><h3>Cart: </h3></div>
    <table class="table table-hover table-striped table-sm">
        <thead class="thead-dark">
        <tr>
            <!-- Your Columns HERE -->
            {#        <th scope="col">Image</th>#}
            <th scope="col"><div class="ml-4">Item</div></th>
            <th scope="col">Seller</th>
            <th scope="col">Price</th>
            <th scope="col">Quantity</th>
            <th scope="col">Options</th>
        </tr>
        </thead>
        <tbody>
        <!-- Your rows inside the table HERE: -->

        {%  if item_cart %}
            {% for item_cart in item_cart %}
                <tr>
                    <td><h5 class="mt-4 ml-4">{{ item_cart.item.name }}</h5></td>
                    <td><h5 class="mt-4">{{ item_cart.seller.name }}</h5></td>
                    <td><h5 class="mt-4">{{ item_cart.price }}$</h5></td>
                    <td><h5 class="mt-4">{{ item_cart.quantity }}</h5></td>
                    <td>
                        <div class="mt-3">
                            <a class="btn btn-outline btn-info mt-2 mb-2" href="{{ url_for('cart_edit_page', item_id=item_cart.item_id, seller_id=item_cart.seller_id) }}">Edit</a>
                            <a class="btn btn-outline btn-success mt-2 mb-2" href="{{ url_for('favorites_add', item_id=item_cart.item_id, seller_id=item_cart.seller_id) }}">Save for later</a>
                            <a class="btn btn-outline btn-danger mt-2 mb-2" href="{{ url_for('remove_cart', item_id=item_cart.item_id, seller_id=item_cart.seller_id) }}">Remove</a>
                        </div>
                    </td>
                <tr>
            {% endfor %}
        {% endif %}
        </tbody>
    </table>
        <div class="d-flex flex-row-reverse bd-highlight">
            <div class="p-2 bd-highlight"><p class="font-italic font-weight-light h3">{{ total }}$</p></div>
            <div class="p-2 bd-highlight"><h3>Total: </h3></div>
        </div>
        <div class="d-flex flex-row-reverse bd-highlight">
        <a class="btn btn-outline btn-warning mt-2 mb-2" href="{{ url_for('checkout') }}">Checkout</a>
        </div>
{#        display favorites below#}
        <div class="p-2 bd-highlight"><h3>Favorites: </h3></div>
        <table class="table table-hover table-striped table-sm">
            <thead class="thead-dark">
            <tr>
                <!-- Your Columns HERE -->
                {#        <th scope="col">Image</th>#}
                <th scope="col"><div class="ml-4">Item</div></th>
                <th scope="col">Seller</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">Options</th>
            </tr>
            </thead>
            <tbody>
            <!-- Your rows inside the table HERE: -->
                {%  if favorites %}
                    {% for f in favorites %}
                        <tr>
                        <td><h5 class="mt-4 ml-4">{{ f.item.name }}</h5></td>
                        <td><h5 class="mt-4">{{ f.seller.name }}</h5></td>
                        <td><h5 class="mt-4">{{ f.price }}$</h5></td>
                        <td><h5 class="mt-4">{{ f.quantity }}</h5></td>
                        <td>
                            <div class="mt-3">
                                <a class="btn btn-outline btn-success mt-2 mb-2" href="{{ url_for('favorites_move', item_id=f.item_id, seller_id=f.seller_id) }}">Move to cart</a>
                            </div>
                        </td>
                        <tr>
                    {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>
{% endblock %}